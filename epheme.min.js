if(!org)var org={};if(!org.epheme)org.epheme={};
(function(q){function k(b,e,f){for(var d=0,c=b.length;d<c;++d)b[d].impl(e,f)}function B(b,e){var f=b.length,d=m.qualify(this.name),c=this.value,a=typeof c=="function"&&c;if(d.local)if(c==null)for(a=0;a<f;++a)b[a].removeAttributeNS(d.space,d.local);else if(a)for(a=0;a<f;++a){i[0]=e[a];var h=b[a],g=c.apply(null,i);g==null?h.removeAttributeNS(d.space,d.local):h.setAttributeNS(d.space,d.local,g)}else for(a=0;a<f;++a)b[a].setAttributeNS(d.space,d.local,c);else if(c==null)for(a=0;a<f;++a)b[a].removeAttribute(d);
else if(a)for(a=0;a<f;++a){i[0]=e[a];h=b[a];g=c.apply(null,i);g==null?h.removeAttribute(d):h.setAttribute(d,g)}else for(a=0;a<f;++a)b[a].setAttribute(d,c)}function C(b,e){var f=b.length,d=m.qualify(this.name),c=this.value,a=typeof c=="function"&&c,h=this.priority;if(c==null)for(a=0;a<f;++a)b[a].style.removeProperty(d);else if(a)for(a=0;a<f;++a){i[0]=e[a];var g=b[a],j=c.apply(null,i);j==null?g.style.removeProperty(d):g.style.setProperty(d,j,h)}else for(a=0;a<f;++a)b[a].style.setProperty(d,c,h)}function D(b,
e){var f=b.length,d=m.qualify(this.name),c=[];if(d.local)for(var a=0;a<f;++a)c.push(b[a].appendChild(document.createElementNS(d.space,d.local)));else for(a=0;a<f;++a)c.push(b[a].appendChild(document.createElement(d)));k(this.actions,c,e)}function E(b){var e=b.length,f=this.selector,d,c,a,h,g;if(f==null)for(c=0;c<e;++c){g=b[c];g.parentNode.removeChild(g)}else for(c=0;c<e;++c){d=b[c].querySelectorAll(f);a=0;for(h=d.length;a<h;a++){g=d[a];g.parentNode.removeChild(g)}}}function F(b,e){var f=b.length,
d=this.value,c,a,h;if(typeof d=="function")for(c=0;c<f;++c){i[0]=e[c];h=d.apply(null,i);for(a=b[c];a.lastChild;)a.removeChild(a.lastChild);a.appendChild(document.createTextNode(h))}else for(c=0;c<f;++c){for(a=b[c];a.lastChild;)a.removeChild(a.lastChild);a.appendChild(document.createTextNode(d))}}function G(b,e){var f=[],d=b.length,c=this.selector,a;for(a=0;a<d;++a)f.push(b[a].querySelector(c));k(this.actions,f,e)}function H(b,e){var f=b.length,d=this.selector,c,a;i.unshift(null);n.unshift(null);r.unshift(null);
for(c=0;c<f;++c){i[1]=e[c];n[0]=a=b[c];r[0]=c;k(this.actions,a.querySelectorAll(d),e)}i.shift();n.shift();r.shift()}function I(b){var e=this.value,f=b.length,d,c=this.key,a,h,g,j,o=[],s=[],u=[],v=[],w=[],x=[],l,p;if(typeof e=="function"){i[0]=r[0];e=e.apply(null,i)}d=e.length;if(c){a=c.name;h=c.value;l={};p={};if(a.local)for(c=0;c<f;++c){j=b[c];g=j.getAttributeNS(a.space,a.local);if(g!=null)l[g]=j}else for(c=0;c<f;++c){j=b[c];g=j.getAttribute(a);if(g!=null)l[g]=j}for(c=0;c<d;++c){i[0]=b=e[c];g=h.apply(null,
i);if(g!=null)p[g]=b}for(g in p){b=p[g];if(g in l){u.push(l[g]);v.push(b)}else{o.push(n[0]);s.push(b)}}for(g in l)if(!(g in p)){w.push(l[g]);x.push(null)}}else{g=d<f?d:f;for(c=0;c<g;++c){u.push(b[c]);v.push(e[c])}for(g=c;g<d;++g){o.push(n[0]);s.push(e[g])}for(g=c;g<f;++g){w.push(b[g]);x.push(null)}}k(this.enterActions,o,s);k(this.actions,u,v);k(this.exitActions,w,x)}function z(b){return function(e){return 1-b(1-e)}}function A(b){return function(e){return 0.5*(e<0.5?b(2*e):2-b(2-2*e))}}function J(){return t}
function y(b){return function(e){return Math.pow(e,b)}}function K(b){return 1-Math.cos(b*Math.PI/2)}function L(b){return b?Math.pow(2,10*(b-1))-0.0010:0}function M(b){return 1-Math.sqrt(1-b*b)}function N(b,e){var f;if(arguments.length<2)e=0.45;if(arguments.length<1){b=1;f=e/4}else f=e/(2*Math.PI)*Math.asin(1/b);return function(d){return 1+b*Math.pow(2,10*-d)*Math.sin(-(d+f)*2*Math.PI/e)}}function O(b){b||(b=1.70158);return function(e){return e*e*((b+1)*e-b)}}function P(b){return b<1/2.75?7.5625*b*
b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375}q.version="0.0.0";var m={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(b){return m.prefix[b]||null},qualify:function(b){var e=b.indexOf(":");return e<0?b:{space:m.prefix[b.substring(0,e)],local:b.substring(e+1)}}};q.dispatch=
function(b){var e={};b.on=function(f,d){f=e[f]||(e[f]=[]);for(var c=0;c<f.length;c++)if(f[c].handler==d)return this;f.push({handler:d,on:true});return this};b.off=function(f,d){if(f=e[f])for(var c=0;c<f.length;c++){var a=f[c];if(a.handler==d){a.on=false;f.splice(c,1);break}}return this};b.dispatch=function(f){var d=e[f.type];if(d){d=d.slice();for(var c=0;c<d.length;c++){var a=d[c];a.on&&a.handler.call(b,f)}}};return b};q.transform=function(){function b(d){var c=Object.create(e);c.data=function(a){var h=
{impl:I,value:a,actions:[],enterActions:[],exitActions:[]};d.push(h);var g=b(h.actions);g.enter=b(h.enterActions);g.exit=b(h.exitActions);g.key=function(j,o){h.key={name:m.qualify(j),value:o};return g};return g};c.attr=function(a,h){d.push({impl:B,name:a,value:h});return c};c.style=function(a,h,g){d.push({impl:C,name:a,value:h,priority:arguments.length<3?null:g});return c};c.add=function(a,h){a={impl:D,name:a,value:h,actions:[]};d.push(a);return b(a.actions)};c.remove=function(a){d.push({impl:E,selector:a});
return c};c.text=function(a){d.push({impl:F,value:a});return c};c.select=function(a){a={impl:G,selector:a,actions:[]};d.push(a);return b(a.actions)};c.selectAll=function(a){a={impl:H,selector:a,actions:[]};d.push(a);return b(a.actions)};return c}var e={},f=[];e.apply=function(){i.unshift(null);k(f,[document],Q);i.shift();return e};return b(f)};var i=[],n=[],r=[],Q={},R=y(2),S=y(3),T={linear:function(){return J},poly:y,quad:function(){return R},cubic:function(){return S},sin:function(){return K},exp:function(){return L},
circle:function(){return M},elastic:N,back:O,bounce:function(){return P}},U={"in":function(b){return b},out:z,"in-out":A,"out-int":function(b){return A(z(b))}};q.ease=function(b){var e=b.indexOf("-"),f=e>=0?b.substring(0,e):b;e=e>=0?b.substring(e+1):"in";return U[e](T[f].apply(null,Array.prototype.slice.call(arguments,1)))}})(org.epheme);
