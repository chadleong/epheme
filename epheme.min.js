if(!Object.create)Object.create=function(s){function t(){}t.prototype=s;return new t};
(function(s){function t(a){var e={};a.on=function(d,f){for(var b=e[d]||(e[d]=[]),c=0;c<b.length;c++)if(b[c].handler==f)return this;b.push({handler:f,on:true});return this};a.off=function(d,f){var b=e[d];if(b)for(var c=0;c<b.length;c++){var h=b[c];if(h.handler==f){h.on=false;b.splice(c,1);break}}return this};a.dispatch=function(d){var f=e[d.type];if(f){f=f.slice();for(var b=0;b<f.length;b++){var c=f[b];c.on&&c.handler.call(a,d)}}};return a}function y(a){return function(e){return 1-a(1-e)}}function z(a){return function(e){return 0.5*
(e<0.5?a(2*e):2-a(2-2*e))}}function C(a){return a}function v(a){return function(e){return Math.pow(e,a)}}function D(a){return 1-Math.cos(a*Math.PI/2)}function E(a){return a?Math.pow(2,10*(a-1))-0.0010:0}function F(a){return 1-Math.sqrt(1-a*a)}function G(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function H(a,e,d){function f(h){if(h>360)h-=360;else if(h<0)h+=360;if(h<60)return b+(c-b)*h/60;if(h<180)return c;
if(h<240)return b+(c-b)*(240-h)/60;return b}var b,c;a%=360;if(a<0)a+=360;e=e<0?0:e>1?1:e;d=d<0?0:d>1?1:d;c=d<=0.5?d*(1+e):d+e-d*e;b=2*d-c;return{r:Math.round(f(a+120)*255),g:Math.round(f(a)*255),b:Math.round(f(a-120)*255)}}function w(a){var e=parseFloat(a);return a.charAt(a.length-1)=="%"?Math.round(e*2.55):e}function A(){function a(f){var b=Object.create(e);b.data=function(c){var h,g={impl:I,value:c,actions:[],enterActions:[],exitActions:[]};f.push(g);h=a(g.actions);h.enter=a(g.enterActions);h.exit=
a(g.exitActions);h.key=function(i,m){g.key={name:q.qualify(i),value:m};return h};return h};b.attr=function(c,h){f.push({impl:J,name:q.qualify(c),value:h});return b};b.style=function(c,h,g){f.push({impl:K,name:c,value:h,priority:arguments.length<3?null:g});return b};b.add=function(c,h){var g={impl:L,name:q.qualify(c),value:h,actions:[]};f.push(g);return a(g.actions)};b.remove=function(c){f.push({impl:M,selector:c});return b};b.text=function(c){f.push({impl:N,value:c});return b};b.filter=function(c){c=
{impl:O,filter:c,actions:[]};f.push(c);return a(c.actions)};b.select=function(c){c={impl:P,selector:c,actions:[]};f.push(c);return a(c.actions)};b.selectAll=function(c){c={impl:Q,selector:c,actions:[]};f.push(c);return a(c.actions)};return b}var e={},d=[];e.apply=function(){j.unshift(null);n(d,[{node:document,index:0}]);j.shift();return e};return a(d)}function n(a,e){var d=a.length,f;for(f=0;f<d;++f)a[f].impl(e)}function L(a){var e=a.length,d=this.name,f=[],b,c,h;if(d.local)for(b=0;b<e;++b){f.push(h=
Object.create(c=a[b]));h.node=(h.parentNode=c.node).appendChild(document.createElementNS(d.space,d.local))}else for(b=0;b<e;++b){f.push(h=Object.create(c=a[b]));h.node=(h.parentNode=c.node).appendChild(document.createElement(d))}n(this.actions,f)}function J(a){var e=a.length,d=this.name,f=this.value,b,c,h;if(d.local)if(f==null)for(b=0;b<e;++b)a[b].node.removeAttributeNS(d.space,d.local);else if(typeof f=="function")for(b=0;b<e;++b){j[0]=(c=a[b]).data;h=f.apply(c,j);h==null?c.node.removeAttributeNS(d.space,
d.local):c.node.setAttributeNS(d.space,d.local,h)}else for(b=0;b<e;++b)a[b].node.setAttributeNS(d.space,d.local,f);else if(f==null)for(b=0;b<e;++b)a[b].node.removeAttribute(d);else if(typeof f=="function")for(b=0;b<e;++b){j[0]=(c=a[b]).data;h=f.apply(null,j);h==null?c.node.removeAttribute(d):c.node.setAttribute(d,h)}else for(b=0;b<e;++b)a[b].node.setAttribute(d,f)}function I(a){var e=this.value,d=a.length,f,b=this.key,c,h,g,i,m=[],o=[],k=[],p,r,x;if(typeof e=="function"){c=j.shift();e=e.apply(null,
j);j.unshift(c)}f=e.length;if(b){c=b.name;h=b.value;p={};r={};x={};if(c.local)for(b=0;b<d;++b){if(i=a[b].node){g=i.getAttributeNS(c.space,c.local);if(g!=null)p[g]=i}}else for(b=0;b<d;++b)if(i=a[b].node){g=i.getAttribute(c);if(g!=null)p[g]=i}for(b=0;b<f;++b){j[0]=c=e[b];g=h.apply(null,j);if(g!=null){r[g]=c;x[g]=b}}for(g in r){c=r[g];b=x[g];(i=p[g])?o.push({node:i,data:c,key:g,index:b}):m.push({node:a.parentNode,data:c,key:g,index:b})}for(g in p)g in r||k.push({node:p[g]})}else{g=f<d?f:d;for(b=0;b<
g;++b){(i=a[b]).data=e[b];if(i.node)o.push(i);else{i.node=i.parentNode;m.push(i)}}for(g=b;g<f;++g)m.push({node:a.parentNode,data:e[g],index:g});for(g=b;g<d;++g)k.push(a[g])}n(this.enterActions,m);n(this.actions,o);n(this.exitActions,k)}function M(a){var e=a.length,d=this.selector,f,b,c,h,g;if(d==null)for(b=0;b<e;++b){g=a[b].node;g.parentNode.removeChild(g)}else for(b=0;b<e;++b){f=a[b].node.querySelectorAll(d);c=0;for(h=f.length;c<h;c++){g=f[c];g.parentNode.removeChild(g)}}}function O(a){var e=[],
d=a.length,f=this.filter,b,c;for(b=0;b<d;++b){j[0]=(c=a[b]).data;f.apply(c,j)&&e.push(c)}n(this.actions,e)}function P(a){var e=[],d=a.length,f=this.selector,b,c,h,g;for(b=0;b<d;++b){g=(h=(c=a[b]).node).querySelector(f);if(g!=null){e.push(c=Object.create(c));c.parentNode=h;c.node=g}}n(this.actions,e)}function Q(a){var e=a.length,d=this.selector,f,b;j.unshift(null);for(f=0;f<e;++f){j[1]=(b=a[f]).data;var c=this.actions,h=(b=b.node).querySelectorAll(d),g=[],i=0,m=h.length;for(g.parentNode=b;i<m;i++)g.push({node:h[i],
index:i});n(c,g)}j.shift()}function K(a){var e=a.length,d=this.name,f=this.value,b=this.priority,c,h,g;if(f==null)for(c=0;c<e;++c)a[c].node.style.removeProperty(d);else if(typeof f=="function")for(c=0;c<e;++c){h=a[c];j[0]=h.data;g=f.apply(null,j);g==null?h.node.style.removeProperty(d):h.node.style.setProperty(d,g,b)}else for(c=0;c<e;++c)a[c].node.style.setProperty(d,f,b)}function N(a){var e=a.length,d=this.value,f,b,c;if(typeof d=="function")for(f=0;f<e;++f){b=a[f];j[0]=b.data;c=d.apply(null,j);for(b=
b.node;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(document.createTextNode(c))}else for(f=0;f<e;++f){for(b=a[f].node;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(document.createTextNode(d))}}var l=(s.org||(s.org={})).epheme={};l.version="0.0.0";var q={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(a){return q.prefix[a]||
null},qualify:function(a){var e=a.indexOf(":");return e<0?a:{space:q.prefix[a.substring(0,e)],local:a.substring(e+1)}}},R=v(2),S=v(3),T={linear:function(){return C},poly:v,quad:function(){return R},cubic:function(){return S},sin:function(){return D},exp:function(){return E},circle:function(){return F},elastic:function(a,e){var d;if(arguments.length<2)e=0.45;if(arguments.length<1){a=1;d=e/4}else d=e/(2*Math.PI)*Math.asin(1/a);return function(f){return 1+a*Math.pow(2,10*-f)*Math.sin(-(f+d)*2*Math.PI/
e)}},back:function(a){a||(a=1.70158);return function(e){return e*e*((a+1)*e-a)}},bounce:function(){return G}},U={"in":function(a){return a},out:y,"in-out":z,"out-int":function(a){return z(y(a))}};l.ease=function(a){var e=a.indexOf("-"),d=e>=0?a.substring(0,e):a;e=e>=0?a.substring(e+1):"in";return U[e](T[d].apply(null,Array.prototype.slice.call(arguments,1)))};l.interpolate=function(a,e){if(typeof a!="number"||typeof e!="number"){var d=V.exec(a);a=parseFloat(a);e=parseFloat(e);if(d){d=d[1];return function(f){return a*
(1-f)+e*f+d}}}return function(f){return a*(1-f)+e*f}};l.interpolateRgb=function(a,e){a=l.rgb(a);e=l.rgb(e);return function(d){var f=1-d;return"rgb("+Math.round(a.r*f+e.r*d)+","+Math.round(a.g*f+e.g*d)+","+Math.round(a.b*f+e.b*d)+")"}};var V=/[-+]?\d*\.?\d*(?:[eE]\d+)?(.*)/;l.rgb=function(a){var e,d,f,b,c;if(b=/([a-z]+)\((.*)\)/i.exec(a)){c=b[2].split(",");switch(b[1]){case "hsl":return H(parseFloat(c[0]),parseFloat(c[1])/100,parseFloat(c[2])/100);case "rgb":return{r:w(c[0]),g:w(c[1]),b:w(c[2])}}}if(b=
u[a])return b;if(a.charAt(0)=="#"){if(a.length==4){e=a.charAt(1);e+=e;d=a.charAt(2);d+=d;f=a.charAt(3);f+=f}else if(a.length==7){e=a.substring(1,3);d=a.substring(3,5);f=a.substring(5,7)}e=parseInt(e,16);d=parseInt(d,16);f=parseInt(f,16)}return{r:e,g:d,b:f}};var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",
cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",
darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",
lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",
mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",
peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",
violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};for(var B in u)u[B]=l.rgb(u[B]);var j=[];l.select=function(a){return A().select(a)};l.selectAll=function(a){return A().selectAll(a)};l.transition=function(){function a(){m=Date.now();o=0;d.dispatch({type:"start"});d.dispatch({type:"tick"});i=setInterval(e,f);g=0}function e(){var k=(Date.now()-m)/c;if(k>=1){i=clearInterval(i);o=1;d.dispatch({type:"tick"});d.dispatch({type:"end"})}else{o=h(k);
d.dispatch({type:"tick"})}}var d=t({}),f=24,b=0,c=250,h=l.ease("cubic-in-out"),g,i,m,o;d.ease=function(k){if(!arguments.length)return h;h=typeof k=="string"?l.ease(k):k;return d};d.delay=function(k){if(!arguments.length)return b;b=k;if(g){clearInterval(g);g=setTimeout(a,b)}return d};d.duration=function(k){if(!arguments.length)return c;c=k;return d};d.start=function(){if(g||i)return d;if(b)g=setTimeout(a,b);else a();return d};d.stop=function(){if(g)g=clearTimeout(g);if(i)i=clearInterval(i);return d};
d.bind=function(k){return function(){return k(o)}};return d}})(this);
