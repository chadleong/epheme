(function(m){function k(c,h,g){var d=c.length,b;for(b=0;b<d;++b)c[b].impl(h,g)}function w(c,h){var g=c.length,d=this.name,b=[],a;if(d.local)for(a=0;a<g;++a)b.push(c[a].appendChild(document.createElementNS(d.space,d.local)));else for(a=0;a<g;++a)b.push(c[a].appendChild(document.createElement(d)));k(this.actions,b,h)}function x(c,h){var g=c.length,d=this.name,b=this.value,a,f,e;if(d.local)if(b==null)for(a=0;a<g;++a)c[a].removeAttributeNS(d.space,d.local);else if(typeof b=="function")for(a=0;a<g;++a){i[0]=
h[a];f=c[a];e=b.apply(null,i);e==null?f.removeAttributeNS(d.space,d.local):f.setAttributeNS(d.space,d.local,e)}else for(a=0;a<g;++a)c[a].setAttributeNS(d.space,d.local,b);else if(b==null)for(a=0;a<g;++a)c[a].removeAttribute(d);else if(typeof b=="function")for(a=0;a<g;++a){i[0]=h[a];f=c[a];e=b.apply(null,i);e==null?f.removeAttribute(d):f.setAttribute(d,e)}else for(a=0;a<g;++a)c[a].setAttribute(d,b)}function y(c){var h=this.value,g=c.length,d,b=this.key,a,f,e,j,n=[],r=[],s=[],t=[],u=[],v=[],l,o;if(typeof h==
"function"){a=i.shift();h=h.apply(null,i);i.unshift(a)}d=h.length;if(b){a=b.name;f=b.value;l={};o={};if(a.local)for(b=0;b<g;++b){j=c[b];e=j.getAttributeNS(a.space,a.local);if(e!=null)l[e]=j}else for(b=0;b<g;++b){j=c[b];e=j.getAttribute(a);if(e!=null)l[e]=j}for(b=0;b<d;++b){i[0]=a=h[b];e=f.apply(null,i);if(e!=null)o[e]=a}for(e in o){a=o[e];if(e in l){s.push(l[e]);t.push(a)}else{n.push(p[0]);r.push(a)}}for(e in l)if(!(e in o)){u.push(l[e]);v.push(null)}}else{e=d<g?d:g;for(b=0;b<e;++b){s.push(c[b]);
t.push(h[b])}for(e=b;e<d;++e){n.push(p[0]);r.push(h[e])}for(e=b;e<g;++e){u.push(c[e]);v.push(null)}}k(this.enterActions,n,r);k(this.actions,s,t);k(this.exitActions,u,v)}function z(c){var h=c.length,g=this.selector,d,b,a,f,e;if(g==null)for(b=0;b<h;++b){e=c[b];e.parentNode.removeChild(e)}else for(b=0;b<h;++b){d=c[b].querySelectorAll(g);a=0;for(f=d.length;a<f;a++){e=d[a];e.parentNode.removeChild(e)}}}function A(c,h){var g=[],d=c.length,b=this.selector,a;for(a=0;a<d;++a)g.push(c[a].querySelector(b));
k(this.actions,g,h)}function B(c,h){var g=c.length,d=this.selector,b,a;i.unshift(null);p.unshift(null);for(b=0;b<g;++b){i[1]=h[b];p[0]=a=c[b];k(this.actions,a.querySelectorAll(d),h)}i.shift();p.shift()}function C(c,h){var g=c.length,d=this.name,b=this.value,a=this.priority,f,e,j;if(b==null)for(f=0;f<g;++f)c[f].style.removeProperty(d);else if(typeof b=="function")for(f=0;f<g;++f){i[0]=h[f];e=c[f];j=b.apply(null,i);j==null?e.style.removeProperty(d):e.style.setProperty(d,j,a)}else for(f=0;f<g;++f)c[f].style.setProperty(d,
b,a)}function D(c,h){var g=c.length,d=this.value,b,a,f;if(typeof d=="function")for(b=0;b<g;++b){i[0]=h[b];f=d.apply(null,i);for(a=c[b];a.lastChild;)a.removeChild(a.lastChild);a.appendChild(document.createTextNode(f))}else for(b=0;b<g;++b){for(a=c[b];a.lastChild;)a.removeChild(a.lastChild);a.appendChild(document.createTextNode(d))}}m=(m.org||(m.org={})).epheme={};m.version="0.0.0";var q={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",
xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(c){return q.prefix[c]||null},qualify:function(c){var h=c.indexOf(":");return h<0?c:{space:q.prefix[c.substring(0,h)],local:c.substring(h+1)}}},i=[],p=[],E=[];m.transform=function(){function c(d){var b=Object.create(h);b.data=function(a){var f,e={impl:y,value:a,actions:[],enterActions:[],exitActions:[]};d.push(e);f=c(e.actions);f.enter=c(e.enterActions);f.exit=c(e.exitActions);f.key=function(j,n){e.key=
{name:q.qualify(j),value:n};return f};return f};b.attr=function(a,f){d.push({impl:x,name:q.qualify(a),value:f});return b};b.style=function(a,f,e){d.push({impl:C,name:a,value:f,priority:arguments.length<3?null:e});return b};b.add=function(a,f){a={impl:w,name:q.qualify(a),value:f,actions:[]};d.push(a);return c(a.actions)};b.remove=function(a){d.push({impl:z,selector:a});return b};b.text=function(a){d.push({impl:D,value:a});return b};b.select=function(a){a={impl:A,selector:a,actions:[]};d.push(a);return c(a.actions)};
b.selectAll=function(a){a={impl:B,selector:a,actions:[]};d.push(a);return c(a.actions)};return b}var h={},g=[];h.apply=function(){i.unshift(null);k(g,[document],E);i.shift();return h};return c(g)}})(this);
