if(!Date.now)Date.now=function(){return+new Date};if(!Object.create)Object.create=function(D){function A(){}A.prototype=D;return new A};
(function(D){function A(a){return function(e){return 1-a(1-e)}}function L(a){return function(e){return 0.5*(e<0.5?a(2*e):2-a(2-2*e))}}function V(a){return a}function G(a){return function(e){return Math.pow(e,a)}}function W(a){return 1-Math.cos(a*Math.PI/2)}function X(a){return a?Math.pow(2,10*(a-1))-0.0010:0}function Y(a){return 1-Math.sqrt(1-a*a)}function Z(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}
function M(a){return function(e,f){var g=a(e,f);return function(){return g(l.time)}}}function N(a){return a in O||/\bcolor\b/.test(a)?l.tweenRgb:l.tween}function H(a){var e,f,g,b,d;if(b=/([a-z]+)\((.*)\)/i.exec(a)){d=b[2].split(",");switch(b[1]){case "hsl":return $(parseFloat(d[0]),parseFloat(d[1])/100,parseFloat(d[2])/100);case "rgb":return{r:I(d[0]),g:I(d[1]),b:I(d[2])}}}if(b=B[a])return b;if(a==null)return B.black;if(a.charAt(0)=="#"){if(a.length==4){e=a.charAt(1);e+=e;f=a.charAt(2);f+=f;g=a.charAt(3);
g+=g}else if(a.length==7){e=a.substring(1,3);f=a.substring(3,5);g=a.substring(5,7)}e=parseInt(e,16);f=parseInt(f,16);g=parseInt(g,16)}return{r:e,g:f,b:g}}function $(a,e,f){function g(c){if(c>360)c-=360;else if(c<0)c+=360;if(c<60)return b+(d-b)*c/60;if(c<180)return d;if(c<240)return b+(d-b)*(240-c)/60;return b}var b,d;a%=360;if(a<0)a+=360;e=e<0?0:e>1?1:e;f=f<0?0:f>1?1:f;d=f<=0.5?f*(1+e):f+e-f*e;b=2*f-d;return{r:Math.round(g(a+120)*255),g:Math.round(g(a)*255),b:Math.round(g(a-120)*255)}}function I(a){var e=
parseFloat(a);return a.charAt(a.length-1)=="%"?Math.round(e*2.55):e}function P(){function a(g,b){var d=Object.create(e);d.pop=g;d.data=function(c){var h,i={impl:aa,value:c,actions:[],enterActions:[],exitActions:[]};b.push(i);h=a(d,i.actions);h.enter=a(d,i.enterActions);h.exit=a(d,i.exitActions);h.key=function(k,n){i.key={name:w.qualify(k),value:n};return h};return h};d.tweenData=function(c,h){b.push({impl:ba,bind:ca,value:c,tween:arguments.length<2?l.tween:h});return d};d.attr=function(c,h){b.push({impl:da,
name:w.qualify(c),value:h});return d};d.tweenAttr=function(c,h,i){b.push({impl:ea,bind:fa,name:w.qualify(c),key:"attr."+c,value:h,tween:arguments.length<3?N(c):i});return d};d.style=function(c,h,i){b.push({impl:ga,name:c,value:h,priority:arguments.length<3?null:i});return d};d.tweenStyle=function(c,h,i,k){b.push({impl:ha,bind:ia,name:c,key:"style."+c,value:h,priority:arguments.length<3?null:i,tween:arguments.length<4?N(c):k});return d};d.add=function(c,h){var i={impl:ja,name:w.qualify(c),value:h,
actions:[]};b.push(i);return a(d,i.actions)};d.remove=function(c){b.push({impl:ka,selector:c});return d};d.text=function(c){b.push({impl:la,value:c});return d};d.on=function(c){c={impl:ma,type:c,actions:[]};b.push(c);return a(d,c.actions)};d.filter=function(c){c={impl:na,filter:c,actions:[]};b.push(c);return a(d,c.actions)};d.select=function(c){c={impl:Q,selector:c,actions:[]};b.push(c);return a(d,c.actions)};d.selectAll=function(c){c={impl:R,selector:c,actions:[]};b.push(c);return a(d,c.actions)};
d.transition=function(){var c,h={impl:oa,actions:[],endActions:[],ease:l.ease("cubic-in-out"),delay:0,duration:250};b.push(h);c=a(d,h.actions);c.end=a(d,h.endActions);c.ease=function(i){h.ease=typeof i=="string"?l.ease(i):i;return c};c.delay=function(i){h.delay=i;return c};c.duration=function(i){h.duration=i;return c};return c};return d}var e={},f=[];e.select=function(g){g={impl:Q,selector:g,actions:[]};f.push(g);return a(e,g.actions)};e.selectAll=function(g){g={impl:R,selector:g,actions:[]};f.push(g);
return a(e,g.actions)};e.apply=function(){j.unshift(null);v(f,[{node:document,index:0}]);j.shift();return e};return e}function v(a,e){var f=a.length,g;for(g=0;g<f;++g)a[g].impl(e,v)}function ja(a,e){var f=a.length,g=this.name,b=[],d,c,h;if(g.local)for(d=0;d<f;++d){b.push(h=Object.create(c=a[d]));h.node=(h.parentNode=c.node).appendChild(document.createElementNS(g.space,g.local))}else for(d=0;d<f;++d){b.push(h=Object.create(c=a[d]));h.node=(h.parentNode=c.node).appendChild(document.createElement(g))}e(this.actions,
b)}function da(a){var e=a.length,f=this.name,g=this.value,b,d,c;if(f.local)if(g==null)for(b=0;b<e;++b)a[b].node.removeAttributeNS(f.space,f.local);else if(typeof g=="function")for(b=0;b<e;++b){j[0]=(d=a[b]).data;c=g.apply(d,j);c==null?d.node.removeAttributeNS(f.space,f.local):d.node.setAttributeNS(f.space,f.local,c)}else for(b=0;b<e;++b)a[b].node.setAttributeNS(f.space,f.local,g);else if(g==null)for(b=0;b<e;++b)a[b].node.removeAttribute(f);else if(typeof g=="function")for(b=0;b<e;++b){j[0]=(d=a[b]).data;
c=g.apply(d,j);c==null?d.node.removeAttribute(f):d.node.setAttribute(f,c)}else for(b=0;b<e;++b)a[b].node.setAttribute(f,g)}function ea(a){var e=a.length,f=this.name,g=this.key,b,d;if(f.local)for(b=0;b<e;++b)(d=a[b]).node.setAttributeNS(f.space,f.local,d.tween[g]());else for(b=0;b<e;++b)(d=a[b]).node.setAttribute(f,d.tween[g]())}function fa(a){var e=a.length,f=this.name,g=this.key,b=this.value,d=this.tween,c,h;if(f.local)if(typeof b==="function")for(c=0;c<e;++c){j[0]=(h=a[c]).data;h.tween[g]=d(h.node.getAttributeNS(f.local,
f.space),b.apply(h,j))}else for(c=0;c<e;++c)(h=a[c]).tween[g]=d(h.node.getAttributeNS(f.local,f.space),b);else if(typeof b==="function")for(c=0;c<e;++c){j[0]=(h=a[c]).data;h.tween[g]=d(h.node.getAttribute(f),b.apply(h,j))}else for(c=0;c<e;++c)(h=a[c]).tween[g]=d(h.node.getAttribute(f),b)}function aa(a,e){var f=this.value,g=a.length,b,d=this.key,c,h,i,k,n=[],o=[],p=[],q,t,x;if(typeof f=="function"){c=j.shift();f=f.apply(null,j);j.unshift(c)}b=f.length;if(d){c=d.name;h=d.value;q={};t={};x={};if(c.local)for(d=
0;d<g;++d){if(k=a[d].node){i=k.getAttributeNS(c.space,c.local);if(i!=null)q[i]=k}}else for(d=0;d<g;++d)if(k=a[d].node){i=k.getAttribute(c);if(i!=null)q[i]=k}for(d=0;d<b;++d){j[0]=c=f[d];i=h.apply(null,j);if(i!=null){t[i]=c;x[i]=d}}for(i in t){c=t[i];d=x[i];(k=q[i])?o.push({node:k,data:c,key:i,index:d}):n.push({node:a.parentNode,data:c,key:i,index:d})}for(i in q)i in t||p.push({node:q[i]})}else{i=b<g?b:g;for(d=0;d<i;++d){(k=a[d]).data=f[d];if(k.node)o.push(k);else{k.node=k.parentNode;n.push(k)}}for(i=
d;i<b;++i)n.push({node:a.parentNode,data:f[i],index:i});for(i=d;i<g;++i)p.push(a[i])}e(this.enterActions,n);e(this.actions,o);e(this.exitActions,p)}function ba(a){var e=a.length,f,g;for(f=0;f<e;++f)(g=a[f]).data=g.tween.data()}function ca(a){var e=a.length,f=this.value,g=this.tween,b,d;if(typeof f==="function")for(b=0;b<e;++b)(d=a[b]).tween.data=g(j[0]=d.data,f.apply(d,j));else for(b=0;b<e;++b)(d=a[b]).tween.data=g(d.data,f)}function ka(a){var e=a.length,f=this.selector,g,b,d,c,h;if(f==null)for(b=
0;b<e;++b){h=a[b].node;h.parentNode.removeChild(h)}else for(b=0;b<e;++b){g=a[b].node.querySelectorAll(f);d=0;for(c=g.length;d<c;d++){h=g[d];h.parentNode.removeChild(h)}}}function ma(a){function e(k){return function(n){var o=j;try{j=i;l.event=n;for(c=0;c<g;++c)f[c].impl(k,v)}finally{delete l.event;j=o}}}var f=this.actions,g=f.length,b=a.length,d="on"+this.type,c=0,h,i=j.slice();if(g)for(;c<b;++c){h=a[c];h.node[d]=e([h])}else for(;c<b;++c)a[c].node[d]=null}function na(a,e){var f=[],g=a.length,b=this.filter,
d,c;for(d=0;d<g;++d){j[0]=(c=a[d]).data;b.apply(c,j)&&f.push(c)}e(this.actions,f)}function Q(a,e){var f=[],g=a.length,b=this.selector,d,c,h,i;for(d=0;d<g;++d){i=(h=(c=a[d]).node).querySelector(b);if(i!=null){f.push(c=Object.create(c));c.parentNode=h;c.node=i}}e(this.actions,f)}function R(a,e){var f=a.length,g=this.selector,b,d;j.unshift(null);for(b=0;b<f;++b){j[1]=(d=a[b]).data;var c=e,h=this.actions,i=(d=d.node).querySelectorAll(g),k=[],n=0,o=i.length;for(k.parentNode=d;n<o;n++)k.push({node:i[n],
index:n});c(h,k)}j.shift()}function ga(a){var e=a.length,f=this.name,g=this.value,b=this.priority,d,c,h;if(g==null)for(d=0;d<e;++d)a[d].node.style.removeProperty(f);else if(typeof g=="function")for(d=0;d<e;++d){c=a[d];j[0]=c.data;h=g.apply(c,j);h==null?c.node.style.removeProperty(f):c.node.style.setProperty(f,h,b)}else for(d=0;d<e;++d)a[d].node.style.setProperty(f,g,b)}function ha(a){var e=a.length,f=this.name,g=this.key,b=this.priority,d,c;for(d=0;d<e;++d)(c=a[d]).node.style.setProperty(f,c.tween[g](),
b)}function ia(a){var e=a.length,f=this.name,g=this.key,b=this.value,d=this.tween,c,h;if(typeof b==="function")for(c=0;c<e;++c){j[0]=h.data;(h=a[c]).tween[g]=d(h.node.style.getPropertyValue(f),b.apply(h,j))}else for(c=0;c<e;++c)(h=a[c]).tween[g]=d(h.node.style.getPropertyValue(f),b)}function la(a){var e=a.length,f=this.value,g,b,d;if(typeof f=="function")for(g=0;g<e;++g){b=a[g];j[0]=b.data;d=f.apply(b,j);for(b=b.node;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(document.createTextNode(d))}else for(g=
0;g<e;++g){for(b=a[g].node;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(document.createTextNode(f))}}function oa(a){function e(y){var r=j;for(m=0;m<x;++m)(s=a[m]).node.interval=y;try{l.time=0;j=E;S(b,a)}finally{delete l.time;j=r}}function f(){var y=j,r=a.filter(function(pa){return pa.node.interval==p}),F=r.length,J=Date.now(),z,T=true;try{j=E;for(m=0;m<F;++m){s=r[m];z=(J-c-s.delay)/n;if(!(z<0)){if(z>1)z=1;else T=false;l.time=o(z);for(u=0;u<q;++u)b[u].impl([s],v);if(z==1){for(u=0;u<t;++u)d[u].impl([s],
v);s.delay=Infinity}}}}finally{delete l.time;j=y}T&&clearInterval(p)}function g(){var y=j,r=(Date.now()-c-h)/n,F=a.filter(function(J){return J.node.interval==p});try{j=E;l.time=o(r<0?0:r>1?1:r);for(m=0;m<q;++m)b[m].impl(F,v)}finally{delete l.time;j=y}if(r>=1){clearInterval(p);try{j=E;for(m=0;m<t;++m)d[m].impl(F,v)}finally{j=y}}}var b=this.actions,d=this.endActions,c=Date.now(),h=this.delay,i=Infinity,k=-Infinity,n=this.duration,o=this.ease,p,q=b.length,t=d.length,x=a.length,m,u,s,C,E=j.slice();if(typeof h==
"function"){for(m=0;m<x;++m){j[0]=(s=a[m]).data;C=s.delay=h.apply(s,j);if(C<i)i=C;if(C>k)k=C}setTimeout(function(){e(p=setInterval(f,24))},i)}else setTimeout(function(){e(p=setInterval(g,24))},h)}function S(a,e){var f=a.length,g=e.length,b;for(b=0;b<g;++b)e[b].tween={};for(b=0;b<f;++b){g=a[b];g.bind&&g.bind(e);g.impl(e,S)}}var l=(D.org||(D.org={})).epheme={};l.version="0.0.0";var w={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",
xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(a){return w.prefix[a]||null},qualify:function(a){var e=a.indexOf(":");return e<0?a:{space:w.prefix[a.substring(0,e)],local:a.substring(e+1)}}},qa=G(2),ra=G(3),sa={linear:function(){return V},poly:G,quad:function(){return qa},cubic:function(){return ra},sin:function(){return W},exp:function(){return X},circle:function(){return Y},elastic:function(a,e){var f;if(arguments.length<2)e=0.45;if(arguments.length<
1){a=1;f=e/4}else f=e/(2*Math.PI)*Math.asin(1/a);return function(g){return 1+a*Math.pow(2,10*-g)*Math.sin(-(g+f)*2*Math.PI/e)}},back:function(a){a||(a=1.70158);return function(e){return e*e*((a+1)*e-a)}},bounce:function(){return Z}},ta={"in":function(a){return a},out:A,"in-out":L,"out-int":function(a){return L(A(a))}};l.ease=function(a){var e=a.indexOf("-"),f=e>=0?a.substring(0,e):a;e=e>=0?a.substring(e+1):"in";return ta[e](sa[f].apply(null,Array.prototype.slice.call(arguments,1)))};l.interpolate=
function(a,e){if(typeof e=="number")return l.interpolateNumber(+a,e);if(typeof e=="string")return l.interpolateString(String(a),e);if(e instanceof Array)return l.interpolateArray(a,e);return l.interpolateObject(a,e)};l.interpolateNumber=function(a,e){e-=a;return function(f){return a+e*f}};l.interpolateString=function(a,e){var f,g,b=0,d=0,c=[],h=[],i,k;for(g=0;f=K.exec(e);++g){if(f.index)c.push(e.substring(b,d=f.index));h.push({i:c.length,x:f[0]});c.push(null);b=K.lastIndex}b<e.length&&c.push(e.substring(b));
g=0;for(i=h.length;(f=K.exec(a))&&g<i;++g){k=h[g];if(k.x==f[0]){if(c[k.i+1]==null){c[k.i-1]+=k.x;c.splice(k.i,1);for(f=g+1;f<i;++f)h[f].i--}else{c[k.i-1]+=k.x+c[k.i+1];c.splice(k.i,2);for(f=g+1;f<i;++f)h[f].i-=2}h.splice(g,1);i--;g--}else k.x=l.interpolateNumber(parseFloat(f[0]),parseFloat(k.x))}if(c.length==1)return c[0]==null?h[0].x:function(){return e};return function(n){for(g=0;g<i;++g)c[(k=h[g]).i]=k.x(n);return c.join("")}};l.interpolateRgb=function(a,e){a=H(a);e=H(e);var f=a.r,g=a.g,b=a.b,
d=e.r-f,c=e.g-g,h=e.b-b;return function(i){return"rgb("+Math.round(f+d*i)+","+Math.round(g+c*i)+","+Math.round(b+h*i)+")"}};l.interpolateArray=function(a,e){var f=[],g=[],b=a.length,d=e.length,c=Math.min(a.length,e.length),h;for(h=0;h<c;++h)f.push(l.interpolate(a[h],e[h]));for(;h<b;++h)g[h]=a[h];for(;h<d;++h)g[h]=e[h];return function(i){for(h=0;h<c;++h)g[h]=f[h](i);return g}};l.interpolateObject=function(a,e){var f={},g={},b;for(b in a)if(b in e)f[b]=(b in O||/\bcolor\b/.test(b)?l.interpolateRgb:
l.interpolate)(a[b],e[b]);else g[b]=a[b];for(b in e)b in a||(g[b]=e[b]);return function(d){for(b in f)g[b]=f[b](d);return g}};var K=/[-+]?(?:\d+\.\d+|\d+\.|\.\d+|\d+)(?:[eE][-]?\d+)?/g,O={background:1,fill:1,stroke:1};l.tween=M(l.interpolate);l.tweenRgb=M(l.interpolateRgb);var B={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",
burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",
darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",
lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",
mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",
papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",
turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};for(var U in B)B[U]=H(B[U]);var j=[];l.select=function(a){return P().select(a)};l.selectAll=function(a){return P().selectAll(a)}})(this);
