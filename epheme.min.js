(function(m){function k(c,h,g){var d=c.length,b;for(b=0;b<d;++b)c[b].impl(h,g)}function x(c,h){var g=c.length,d=this.name,b=[],a;if(d.local)for(a=0;a<g;++a)b.push(c[a].appendChild(document.createElementNS(d.space,d.local)));else for(a=0;a<g;++a)b.push(c[a].appendChild(document.createElement(d)));k(this.actions,b,h)}function y(c,h){var g=c.length,d=this.name,b=this.value,a,f,e;if(d.local)if(b==null)for(a=0;a<g;++a)c[a].removeAttributeNS(d.space,d.local);else if(typeof b=="function")for(a=0;a<g;++a){i[0]=
h[a];f=c[a];e=b.apply(null,i);e==null?f.removeAttributeNS(d.space,d.local):f.setAttributeNS(d.space,d.local,e)}else for(a=0;a<g;++a)c[a].setAttributeNS(d.space,d.local,b);else if(b==null)for(a=0;a<g;++a)c[a].removeAttribute(d);else if(typeof b=="function")for(a=0;a<g;++a){i[0]=h[a];f=c[a];e=b.apply(null,i);e==null?f.removeAttribute(d):f.setAttribute(d,e)}else for(a=0;a<g;++a)c[a].setAttribute(d,b)}function z(c){var h=this.value,g=c.length,d,b=this.key,a,f,e,j,n=[],s=[],t=[],u=[],v=[],w=[],l,o;if(typeof h==
"function"){i[0]=r[0];h=h.apply(null,i)}d=h.length;if(b){a=b.name;f=b.value;l={};o={};if(a.local)for(b=0;b<g;++b){j=c[b];e=j.getAttributeNS(a.space,a.local);if(e!=null)l[e]=j}else for(b=0;b<g;++b){j=c[b];e=j.getAttribute(a);if(e!=null)l[e]=j}for(b=0;b<d;++b){i[0]=c=h[b];e=f.apply(null,i);if(e!=null)o[e]=c}for(e in o){c=o[e];if(e in l){t.push(l[e]);u.push(c)}else{n.push(p[0]);s.push(c)}}for(e in l)if(!(e in o)){v.push(l[e]);w.push(null)}}else{e=d<g?d:g;for(b=0;b<e;++b){t.push(c[b]);u.push(h[b])}for(e=
b;e<d;++e){n.push(p[0]);s.push(h[e])}for(e=b;e<g;++e){v.push(c[e]);w.push(null)}}k(this.enterActions,n,s);k(this.actions,t,u);k(this.exitActions,v,w)}function A(c){var h=c.length,g=this.selector,d,b,a,f,e;if(g==null)for(b=0;b<h;++b){e=c[b];e.parentNode.removeChild(e)}else for(b=0;b<h;++b){d=c[b].querySelectorAll(g);a=0;for(f=d.length;a<f;a++){e=d[a];e.parentNode.removeChild(e)}}}function B(c,h){var g=[],d=c.length,b=this.selector,a;for(a=0;a<d;++a)g.push(c[a].querySelector(b));k(this.actions,g,h)}
function C(c,h){var g=c.length,d=this.selector,b,a;i.unshift(null);p.unshift(null);r.unshift(null);for(b=0;b<g;++b){i[1]=h[b];p[0]=a=c[b];r[0]=b;k(this.actions,a.querySelectorAll(d),h)}i.shift();p.shift();r.shift()}function D(c,h){var g=c.length,d=this.name,b=this.value,a=this.priority,f,e,j;if(b==null)for(f=0;f<g;++f)c[f].style.removeProperty(d);else if(typeof b=="function")for(f=0;f<g;++f){i[0]=h[f];e=c[f];j=b.apply(null,i);j==null?e.style.removeProperty(d):e.style.setProperty(d,j,a)}else for(f=
0;f<g;++f)c[f].style.setProperty(d,b,a)}function E(c,h){var g=c.length,d=this.value,b,a,f;if(typeof d=="function")for(b=0;b<g;++b){i[0]=h[b];f=d.apply(null,i);for(a=c[b];a.lastChild;)a.removeChild(a.lastChild);a.appendChild(document.createTextNode(f))}else for(b=0;b<g;++b){for(a=c[b];a.lastChild;)a.removeChild(a.lastChild);a.appendChild(document.createTextNode(d))}}m=(m.org||(m.org={})).epheme={};m.version="0.0.0";var q={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",
xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(c){return q.prefix[c]||null},qualify:function(c){var h=c.indexOf(":");return h<0?c:{space:q.prefix[c.substring(0,h)],local:c.substring(h+1)}}},i=[],p=[],r=[],F=[];m.transform=function(){function c(d){var b=Object.create(h);b.data=function(a){var f,e={impl:z,value:a,actions:[],enterActions:[],exitActions:[]};d.push(e);f=c(e.actions);f.enter=c(e.enterActions);f.exit=
c(e.exitActions);f.key=function(j,n){e.key={name:q.qualify(j),value:n};return f};return f};b.attr=function(a,f){d.push({impl:y,name:q.qualify(a),value:f});return b};b.style=function(a,f,e){d.push({impl:D,name:a,value:f,priority:arguments.length<3?null:e});return b};b.add=function(a,f){a={impl:x,name:q.qualify(a),value:f,actions:[]};d.push(a);return c(a.actions)};b.remove=function(a){d.push({impl:A,selector:a});return b};b.text=function(a){d.push({impl:E,value:a});return b};b.select=function(a){a=
{impl:B,selector:a,actions:[]};d.push(a);return c(a.actions)};b.selectAll=function(a){a={impl:C,selector:a,actions:[]};d.push(a);return c(a.actions)};return b}var h={},g=[];h.apply=function(){i.unshift(null);k(g,[document],F);i.shift();return h};return c(g)}})(this);
