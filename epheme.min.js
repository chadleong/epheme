if(!org)var org={};if(!org.epheme)org.epheme={};
(function(k){function x(a,b,d){for(b=document.evaluate(a,b,p.resolve,XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null);(a=b.iterateNext())!=null;)d.push(a)}function A(a){function b(){q=0;m=Date.now();d();s=setInterval(d,e)}function d(){for(var i=Math.max(0,Math.min(1,(Date.now()-m)/h)),n=j(i),o=0;o<l.length;o++)l[o](n);if(i==1){clearInterval(s);s=0}}function f(i,n,o){var u=parseFloat(i.getAttribute(n)),v=parseFloat(o);if(isNaN(u)||isNaN(v))return function(r){return i.setAttribute(n,r<0.5?u:v)};return function(r){i.setAttribute(n,
u*(1-r)+v*r+"%")}}var c={},e=24,g=e,h=250,j=k.ease("cubic-in-out"),m,l=[],q,s;q=setTimeout(b,g);c.duration=function(i){if(!arguments.length)return h;h=i;return c};c.delay=function(i){if(!arguments.length)return g;g=i;if(q){clearInterval(q);q=setTimeout(b,g)}return c};c.ease=function(i){if(!arguments.length)return j;j=typeof i=="string"?k.ease(i):i;return c};c.attr=function(i,n){for(var o=0;o<a.length();o++)l.push(f(a.item(o),i,n));return c};c.style=function(){return c};c.text=function(i){l.push(function(n){n>=
0.5&&a.text(i)});return c};return c}function y(a){return function(b){return 1-a(1-b)}}function z(a){return function(b){return 0.5*(b<0.5?a(2*b):2-a(2-2*b))}}function B(){return t}function w(a){return function(b){return Math.pow(b,a)}}function C(a){return 1-Math.cos(a*Math.PI/2)}function D(a){return a?Math.pow(2,10*(a-1))-0.0010:0}function E(a){return 1-Math.sqrt(1-a*a)}function F(a,b){var d;if(arguments.length<2)b=0.45;if(arguments.length<1){a=1;d=b/4}else d=b/(2*Math.PI)*Math.asin(1/a);return function(f){return 1+
a*Math.pow(2,10*-f)*Math.sin(-(f+d)*2*Math.PI/b)}}function G(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}}function H(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}k.version="0.0.0";var p={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(a){return p.prefix[a]||
null},qualify:function(a){var b=a.indexOf(":");return{space:p.prefix[a.substring(0,b)],local:a.substring(b+1)}},create:function(a){a=p.qualify(a);return a.space==null?document.createElement(a.local):document.createElementNS(a.space,a.local)}};k.dispatch=function(a){var b={};a.on=function(d,f){d=b[d]||(b[d]=[]);for(var c=0;c<d.length;c++)if(d[c].handler==f)return a;d.push({handler:f,on:true});return a};a.off=function(d,f){if(d=b[d])for(var c=0;c<d.length;c++){var e=d[c];if(e.handler==f){e.on=false;
d.splice(c,1);break}}return a};a.dispatch=function(d){var f=b[d.type];if(f){f=f.slice();for(var c=0;c<f.length;c++){var e=f[c];e.on&&e.handler.call(a,d)}}}};k.select=function(a){var b={},d;if(typeof a=="string")x(a,document,d=[]);else d=a instanceof Array?a.slice():[a];b.select=function(f){for(var c=[],e=0;e<d.length;e++)x(f,d[e],c);return k.select(c)};b.add=function(f){for(var c=[],e=0;e<d.length;e++)c.push(d[e].appendChild(p.create(f)));return k.select(c)};b.remove=function(){for(var f=0;f<d.length;f++){var c=
d[f];c.parentNode&&c.parentNode.removeChild(c)}return b};b.attr=function(f,c){if(c==null)for(var e=0;e<d.length;e++)d[e].removeAttribute(f);else if(typeof c=="function")for(e=0;e<d.length;e++){var g=d[e],h=c.call(b,g,e);h==null?g.removeAttribute(f):g.setAttribute(f,h)}else for(e=0;e<d.length;e++)d[e].setAttribute(f,c);return b};b.style=function(f,c,e){if(arguments.length<3)e=null;if(c==null)for(var g=0;g<d.length;g++)d[g].style.removeProperty(f);else if(typeof c=="function")for(g=0;g<d.length;g++){var h=
d[g],j=c.call(b,h,g);j==null?h.style.removeProperty(f):h.style.setProperty(f,j,e)}else for(g=0;g<d.length;g++)d[g].style.setProperty(f,c,e);return b};b.text=function(f){if(f==null)for(var c=0;c<d.length;c++){var e=d[c];e.firstChild&&e.removeChild(e.firstChild)}else if(typeof f=="function")for(c=0;c<d.length;c++){e=d[c];var g=f.call(b,e,c);if(g==null)e.firstChild&&e.removeChlid(e.firstChild);else if(e.firstChild)e.firstChild.nodeValue=g;else e.appendChild(document.createTextNode(g))}else for(c=0;c<
d.length;c++){e=d[c];if(e.firstChild)e.firstChild.nodeValue=f;else e.appendChild(document.createTextNode(f))}return b};b.length=function(){return d.length};b.item=function(f){return d[f]};b.transition=function(){return A(b)};return b};k.map=function(a){var b={},d,f;k.dispatch(b);b.length=function(){return a.length};b.datum=function(c){return a[c]};b.from=function(c){if(!arguments.length)return d;d=c;return b};b.by=function(c){if(!arguments.length)return f;f=c;return b};b.apply=function(c){if(!arguments.length)c=
b.dispatch;for(var e=k.select(d),g=[],h=0;h<a.length;h++){var j=a[h],m=k.select(f.call(b,j,h)),l;if(m.length()){l=m.item(0);c.call(b,{type:"update",target:l,data:j,index:h})}else b.dispatch({type:"enter",data:j,index:h});g.push(l)}for(h=0;h<e.length();h++){l=e.item(h);j=false;for(m=0;m<g.length;m++)if(g[m]===l){j=true;break}j||b.dispatch({type:"exit",target:l})}return b};return b};var I=w(2),J=w(3),K={linear:function(){return B},poly:w,quad:function(){return I},cubic:function(){return J},sin:function(){return C},
exp:function(){return D},circle:function(){return E},elastic:F,back:G,bounce:function(){return H}},L={"in":function(a){return a},out:y,"in-out":z,"out-int":function(a){return z(y(a))}};k.ease=function(a){var b=a.indexOf("-"),d=b>=0?a.substring(0,b):a;b=b>=0?a.substring(b+1):"in";return L[b](K[d].apply(null,Array.prototype.slice.call(arguments,1)))}})(org.epheme);
