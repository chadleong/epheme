if(!org)var org={};if(!org.epheme)org.epheme={};
(function(u){function p(a,b){var h={},e;if(arguments.length<2)b=A;e=typeof a=="string"?B(a,document,[]):a instanceof Array?a.slice():[a];h.select=function(c){var f=[];if(b===A)for(var d=A,g=0;g<e.length;g++)B(c,e[g]||document,f);else{d=[];for(var n=g=0;g<e.length;g++){B(c,e[g]||document,f);for(var m=b[g];n<f.length;n++)d.push(m)}}return p(f,d)};h.add=function(c){c=w.qualify(c);var f=[];if(c.space)for(var d=0;d<e.length;d++)f.push(e[d].appendChild(document.createElementNS(c.space,c.local)));else for(d=
0;d<e.length;d++)f.push(e[d].appendChild(document.createElement(c)));return p(f,b)};h.remove=function(){for(var c=0;c<e.length;c++){var f=e[c];f.parentNode&&f.parentNode.removeChild(f)}return h};h.attr=function(c,f){c=w.qualify(c);if(c.space)if(f==null)for(var d=0;d<e.length;d++)e[d].removeAttributeNS(c.space,c.local);else if(typeof f=="function")for(d=0;d<e.length;d++){var g=e[d],n=f.call(h,b[d],d);n==null?g.removeAttributeNS(c.space,c.local):g.setAttributeNS(c.space,c.local,n)}else for(d=0;d<e.length;d++)e[d].setAttributeNS(c.space,
c.local,f);else if(f==null)for(d=0;d<e.length;d++)e[d].removeAttribute(c);else if(typeof f=="function")for(d=0;d<e.length;d++){g=e[d];n=f.call(h,b[d],d);n==null?g.removeAttribute(c):g.setAttribute(c,n)}else for(d=0;d<e.length;d++)e[d].setAttribute(c,f);return h};h.style=function(c,f,d){if(arguments.length<3)d=null;if(f==null)for(var g=0;g<e.length;g++)e[g].style.removeProperty(c);else if(typeof f=="function")for(g=0;g<e.length;g++){var n=e[g],m=f.call(h,b[g],g);m==null?n.style.removeProperty(c):n.style.setProperty(c,
m,d)}else for(g=0;g<e.length;g++)e[g].style.setProperty(c,f,d);return h};h.text=function(c){if(c==null)for(var f=0;f<e.length;f++){var d=e[f];d.firstChild&&d.removeChild(d.firstChild)}else if(typeof c=="function")for(f=0;f<e.length;f++){d=e[f];var g=c.call(h,b[f],f);if(g==null)d.firstChild&&d.removeChlid(d.firstChild);else if(d.firstChild)d.firstChild.nodeValue=g;else d.appendChild(document.createTextNode(g))}else for(f=0;f<e.length;f++){d=e[f];if(d.firstChild)d.firstChild.nodeValue=c;else d.appendChild(document.createTextNode(c))}return h};
h.length=function(){return e.length};h.item=function(c){return e[c]};h.transition=function(){return G(e,b)};return h}function B(a,b,h){for(b=document.evaluate(a,b,w.resolve,XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null);(a=b.iterateNext())!=null;)h.push(a);return h}function G(a,b){function h(){y=0;r=Date.now();e();C=setInterval(e,n)}function e(){for(var j=Math.max(0,Math.min(1,(Date.now()-r)/q)),i=s(j),k=0;k<l.length;k++)l[k](i);if(j==1){clearInterval(C);C=0}}function c(j,i,k){var o=parseFloat(j.getAttribute(i)),
x=parseFloat(k);if(isNaN(o)||isNaN(x)){var z=0.5;return function(v){if(v>=z){z=NaN;p(j).attr(i,k)}}}i=w.qualify(i);if(i.space)return function(v){j.setAttributeNS(i.space,i.local,o*(1-v)+x*v+"%")};return function(v){j.setAttribute(i,o*(1-v)+x*v+"%")}}function f(j,i,k,o){var x=0.5;return function(z){if(z>=x){x=NaN;p(j).style(i,k,o)}}}function d(j,i){var k=0.5;return function(o){if(o>=k){k=NaN;p(j).text(i)}}}var g={},n=24,m=n,q=250,s=u.ease("cubic-in-out"),r,l=[],y,C;y=setTimeout(h,m);g.duration=function(j){if(!arguments.length)return q;
q=j;return g};g.delay=function(j){if(!arguments.length)return m;m=j;if(y){clearInterval(y);y=setTimeout(h,m)}return g};g.ease=function(j){if(!arguments.length)return s;s=typeof j=="string"?u.ease(j):j;return g};g.attr=function(j,i){if(typeof i=="function")for(var k=0;k<a.length;k++)l.push(c(a[k],j,i.call(g,b[k],k)));else for(k=0;k<a.length;k++)l.push(c(a[k],j,i));return g};g.style=function(j,i,k){if(arguments.length<3)k=null;if(typeof i=="function")for(var o=0;o<a.length;o++)l.push(f(a[o],j,i.call(g,
b[o],o),k));else for(o=0;o<a.length;o++)l.push(f(a[o],j,i,k));return g};g.text=function(j){if(typeof j=="function")for(var i=0;i<a.length;i++)l.push(d(a[i],j.call(g,b[i],i)));else for(i=0;i<a.length;i++)l.push(d(a[i],j));return g};return g}function E(a){return function(b){return 1-a(1-b)}}function F(a){return function(b){return 0.5*(b<0.5?a(2*b):2-a(2-2*b))}}function H(){return t}function D(a){return function(b){return Math.pow(b,a)}}function I(a){return 1-Math.cos(a*Math.PI/2)}function J(a){return a?
Math.pow(2,10*(a-1))-0.0010:0}function K(a){return 1-Math.sqrt(1-a*a)}function L(a,b){var h;if(arguments.length<2)b=0.45;if(arguments.length<1){a=1;h=b/4}else h=b/(2*Math.PI)*Math.asin(1/a);return function(e){return 1+a*Math.pow(2,10*-e)*Math.sin(-(e+h)*2*Math.PI/b)}}function M(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}}function N(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}u.version=
"0.0.0";var w={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(a){return w.prefix[a]||null},qualify:function(a){var b=a.indexOf(":");return b<0?a:{space:w.prefix[a.substring(0,b)],local:a.substring(b+1)}}};u.dispatch=function(a){var b={};a.on=function(h,e){h=b[h]||(b[h]=[]);for(var c=0;c<h.length;c++)if(h[c].handler==e)return a;h.push({handler:e,
on:true});return a};a.off=function(h,e){if(h=b[h])for(var c=0;c<h.length;c++){var f=h[c];if(f.handler==e){f.on=false;h.splice(c,1);break}}return a};a.dispatch=function(h){var e=b[h.type];if(e){e=e.slice();for(var c=0;c<e.length;c++){var f=e[c];f.on&&f.handler.call(a,h)}}}};u.select=function(a){return p(a)};var A={};u.map=function(a){var b={},h,e;u.dispatch(b);b.from=function(c){if(!arguments.length)return h;h=c;return b};b.by=function(c){if(!arguments.length)return e;e=c;return b};b.apply=function(c){if(!arguments.length)c=
b.dispatch;for(var f=[],d=[],g=[],n=[],m=0;m<a.length;m++){var q=a[m],s=p(e.call(b,q,m)),r=s.length();if(r)for(var l=0;l<r;l++){g.push(s.item(l));n.push(q)}else{f.push(null);d.push(q)}}q=[];s=p(h);m=0;a:for(;m<s.length();m++){r=s.item(m);for(l=0;l<f.length;l++)if(f[l]===r)continue a;for(l=0;l<g.length;l++)if(g[l]===r)continue a;q.push(r)}f.length&&b.dispatch({type:"enter",target:p(f,d)});g.length&&b.dispatch({type:"update",target:p(g,n)});q.length&&b.dispatch({type:"exit",target:p(q)});return b};
return b};var O=D(2),P=D(3),Q={linear:function(){return H},poly:D,quad:function(){return O},cubic:function(){return P},sin:function(){return I},exp:function(){return J},circle:function(){return K},elastic:L,back:M,bounce:function(){return N}},R={"in":function(a){return a},out:E,"in-out":F,"out-int":function(a){return F(E(a))}};u.ease=function(a){var b=a.indexOf("-"),h=b>=0?a.substring(0,b):a;b=b>=0?a.substring(b+1):"in";return R[b](Q[h].apply(null,Array.prototype.slice.call(arguments,1)))}})(org.epheme);
