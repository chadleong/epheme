if(!Date.now)Date.now=function(){return+new Date};if(!Object.create)Object.create=function(B){function z(){}z.prototype=B;return new z};
(function(B){function z(a){return function(e){return 1-a(1-e)}}function I(a){return function(e){return 0.5*(e<0.5?a(2*e):2-a(2-2*e))}}function Q(a){return a}function E(a){return function(e){return Math.pow(e,a)}}function R(a){return 1-Math.cos(a*Math.PI/2)}function S(a){return a?Math.pow(2,10*(a-1))-0.0010:0}function T(a){return 1-Math.sqrt(1-a*a)}function U(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}
function J(a){return a in V||/\bcolor\b/.test(a)?k.rgb.tween:k.tween}function W(a,e,g){function h(c){if(c>360)c-=360;else if(c<0)c+=360;if(c<60)return b+(d-b)*c/60;if(c<180)return d;if(c<240)return b+(d-b)*(240-c)/60;return b}var b,d;a%=360;if(a<0)a+=360;e=e<0?0:e>1?1:e;g=g<0?0:g>1?1:g;d=g<=0.5?g*(1+e):g+e-g*e;b=2*g-d;return{r:Math.round(h(a+120)*255),g:Math.round(h(a)*255),b:Math.round(h(a-120)*255)}}function F(a){var e=parseFloat(a);return a.charAt(a.length-1)=="%"?Math.round(e*2.55):e}function K(){function a(h,
b){var d=Object.create(e);d.pop=h;d.data=function(c){var f,i={impl:X,value:c,actions:[],enterActions:[],exitActions:[]};b.push(i);f=a(d,i.actions);f.enter=a(d,i.enterActions);f.exit=a(d,i.exitActions);f.key=function(m,o){i.key={name:v.qualify(m),value:o};return f};return f};d.attr=function(c,f){b.push({impl:Y,name:v.qualify(c),value:f});return d};d.attr.tween=function(c,f,i){b.push({impl:Z,name:v.qualify(c),value:f,tween:arguments.length<3?J(c):i});return d};d.style=function(c,f,i){b.push({impl:$,
name:c,value:f,priority:arguments.length<3?null:i});return d};d.style.tween=function(c,f,i,m){b.push({impl:aa,name:c,value:f,priority:arguments.length<3?null:i,tween:arguments.length<4?J(c):m});return d};d.add=function(c,f){var i={impl:ba,name:v.qualify(c),value:f,actions:[]};b.push(i);return a(d,i.actions)};d.remove=function(c){b.push({impl:ca,selector:c});return d};d.text=function(c){b.push({impl:da,value:c});return d};d.on=function(c){c={impl:ea,type:c,actions:[]};b.push(c);return a(d,c.actions)};
d.filter=function(c){c={impl:fa,filter:c,actions:[]};b.push(c);return a(d,c.actions)};d.select=function(c){c={impl:L,selector:c,actions:[]};b.push(c);return a(d,c.actions)};d.selectAll=function(c){c={impl:M,selector:c,actions:[]};b.push(c);return a(d,c.actions)};d.transition=function(){var c,f={impl:ga,actions:[],endActions:[],ease:k.ease("cubic-in-out"),delay:0,duration:250};b.push(f);c=a(d,f.actions);c.end=a(d,f.endActions);c.ease=function(i){f.ease=typeof i=="string"?k.ease(i):i;return c};c.delay=
function(i){f.delay=i;return c};c.duration=function(i){f.duration=i;return c};return c};return d}var e={},g=[];e.select=function(h){h={impl:L,selector:h,actions:[]};g.push(h);return a(e,h.actions)};e.selectAll=function(h){h={impl:M,selector:h,actions:[]};g.push(h);return a(e,h.actions)};e.apply=function(){j.unshift(null);p(g,[{node:document,index:0}]);j.shift();return e};return e}function p(a,e){var g=a.length,h;for(h=0;h<g;++h)a[h].impl(e)}function ba(a){var e=a.length,g=this.name,h=[],b,d,c;if(g.local)for(b=
0;b<e;++b){h.push(c=Object.create(d=a[b]));c.node=(c.parentNode=d.node).appendChild(document.createElementNS(g.space,g.local))}else for(b=0;b<e;++b){h.push(c=Object.create(d=a[b]));c.node=(c.parentNode=d.node).appendChild(document.createElement(g))}p(this.actions,h)}function Y(a){var e=a.length,g=this.name,h=this.value,b,d,c;if(g.local)if(h==null)for(b=0;b<e;++b)a[b].node.removeAttributeNS(g.space,g.local);else if(typeof h=="function")for(b=0;b<e;++b){j[0]=(d=a[b]).data;c=h.apply(d,j);c==null?d.node.removeAttributeNS(g.space,
g.local):d.node.setAttributeNS(g.space,g.local,c)}else for(b=0;b<e;++b)a[b].node.setAttributeNS(g.space,g.local,h);else if(h==null)for(b=0;b<e;++b)a[b].node.removeAttribute(g);else if(typeof h=="function")for(b=0;b<e;++b){j[0]=(d=a[b]).data;c=h.apply(d,j);c==null?d.node.removeAttribute(g):d.node.setAttribute(g,c)}else for(b=0;b<e;++b)a[b].node.setAttribute(g,h)}function Z(a){var e=a.length,g=this.name,h=this.value,b=this.tween,d=this.tweens,c,f;if(!d){d=this.tweens=[];if(g.local)if(typeof h=="function")for(c=
0;c<e;++c){j[0]=(f=a[c]).data;d.push(b(f.node.getAttributeNS(g.space,g.local),h.apply(f,j)))}else for(c=0;c<e;++c)d.push(b(a[c].node.getAttributeNS(g.space,g.local),h));else if(typeof h=="function")for(c=0;c<e;++c){j[0]=(f=a[c]).data;d.push(b(f.node.getAttribute(g),h.apply(f,j)))}else for(c=0;c<e;++c)d.push(b(a[c].node.getAttribute(g),h))}if(g.local)for(c=0;c<e;++c)a[c].node.setAttributeNS(g.space,g.local,d[c]());else for(c=0;c<e;++c)a[c].node.setAttribute(g,d[c]())}function X(a){var e=this.value,
g=a.length,h,b=this.key,d,c,f,i,m=[],o=[],q=[],n,r,w;if(typeof e=="function"){d=j.shift();e=e.apply(null,j);j.unshift(d)}h=e.length;if(b){d=b.name;c=b.value;n={};r={};w={};if(d.local)for(b=0;b<g;++b){if(i=a[b].node){f=i.getAttributeNS(d.space,d.local);if(f!=null)n[f]=i}}else for(b=0;b<g;++b)if(i=a[b].node){f=i.getAttribute(d);if(f!=null)n[f]=i}for(b=0;b<h;++b){j[0]=d=e[b];f=c.apply(null,j);if(f!=null){r[f]=d;w[f]=b}}for(f in r){d=r[f];b=w[f];(i=n[f])?o.push({node:i,data:d,key:f,index:b}):m.push({node:a.parentNode,
data:d,key:f,index:b})}for(f in n)f in r||q.push({node:n[f]})}else{f=h<g?h:g;for(b=0;b<f;++b){(i=a[b]).data=e[b];if(i.node)o.push(i);else{i.node=i.parentNode;m.push(i)}}for(f=b;f<h;++f)m.push({node:a.parentNode,data:e[f],index:f});for(f=b;f<g;++f)q.push(a[f])}p(this.enterActions,m);p(this.actions,o);p(this.exitActions,q)}function ca(a){var e=a.length,g=this.selector,h,b,d,c,f;if(g==null)for(b=0;b<e;++b){f=a[b].node;f.parentNode.removeChild(f)}else for(b=0;b<e;++b){h=a[b].node.querySelectorAll(g);
d=0;for(c=h.length;d<c;d++){f=h[d];f.parentNode.removeChild(f)}}}function ea(a){function e(m){return function(o){var q=j;try{j=i;k.event=o;for(c=0;c<h;++c)g[c].impl(m)}finally{delete k.event;j=q}}}var g=this.actions,h=g.length,b=a.length,d="on"+this.type,c=0,f,i=j.slice();if(h)for(;c<b;++c){f=a[c];f.node[d]=e([f])}else for(;c<b;++c)a[c].node[d]=null}function fa(a){var e=[],g=a.length,h=this.filter,b,d;for(b=0;b<g;++b){j[0]=(d=a[b]).data;h.apply(d,j)&&e.push(d)}p(this.actions,e)}function L(a){var e=
[],g=a.length,h=this.selector,b,d,c,f;for(b=0;b<g;++b){f=(c=(d=a[b]).node).querySelector(h);if(f!=null){e.push(d=Object.create(d));d.parentNode=c;d.node=f}}p(this.actions,e)}function M(a){var e=a.length,g=this.selector,h,b;j.unshift(null);for(h=0;h<e;++h){j[1]=(b=a[h]).data;var d=this.actions,c=(b=b.node).querySelectorAll(g),f=[],i=0,m=c.length;for(f.parentNode=b;i<m;i++)f.push({node:c[i],index:i});p(d,f)}j.shift()}function $(a){var e=a.length,g=this.name,h=this.value,b=this.priority,d,c,f;if(h==
null)for(d=0;d<e;++d)a[d].node.style.removeProperty(g);else if(typeof h=="function")for(d=0;d<e;++d){c=a[d];j[0]=c.data;f=h.apply(c,j);f==null?c.node.style.removeProperty(g):c.node.style.setProperty(g,f,b)}else for(d=0;d<e;++d)a[d].node.style.setProperty(g,h,b)}function aa(a){var e=a.length,g=this.name,h=this.value,b=this.priority,d=this.tween,c=this.tweens,f,i;if(!c){c=this.tweens=[];if(typeof h=="function")for(f=0;f<e;++f){j[0]=(i=a[f]).data;c.push(d(i.style.getPropertyValue(g),h.apply(i,j)))}else for(f=
0;f<e;++f)c.push(d(a[f].node.style.getPropertyValue(g),h))}for(f=0;f<e;++f)a[f].node.style.setProperty(g,c[f](),b)}function da(a){var e=a.length,g=this.value,h,b,d;if(typeof g=="function")for(h=0;h<e;++h){b=a[h];j[0]=b.data;d=g.apply(b,j);for(b=b.node;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(document.createTextNode(d))}else for(h=0;h<e;++h){for(b=a[h].node;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(document.createTextNode(g))}}function ga(a){function e(x){for(l=0;l<N;++l)a[l].node.interval=
x}function g(){var x=j,u=a.filter(function(ha){return ha.node.interval==n}),C=u.length,G=Date.now(),y,O=true;try{j=H;for(l=0;l<C;++l){s=u[l];y=(G-c-s.delay)/o;if(!(y<0)){if(y>1)y=1;else O=false;k.time=q(y);for(t=0;t<r;++t)b[t].impl([s]);if(y==1){for(t=0;t<w;++t)d[t].impl([s]);s.delay=Infinity}}}}finally{delete k.time;j=x}O&&clearInterval(n)}function h(){var x=j,u=(Date.now()-c-f)/o,C=a.filter(function(G){return G.node.interval==n});try{j=H;k.time=q(u<0?0:u>1?1:u);for(l=0;l<r;++l)b[l].impl(C)}finally{delete k.time;
j=x}if(u>=1){clearInterval(n);try{j=H;for(l=0;l<w;++l)d[l].impl(C)}finally{j=x}}}var b=this.actions,d=this.endActions,c=Date.now(),f=this.delay,i=Infinity,m=-Infinity,o=this.duration,q=this.ease,n,r=b.length,w=d.length,N=a.length,l,t,s,A,H=j.slice();if(typeof f=="function"){for(l=0;l<N;++l){j[0]=(s=a[l]).data;A=s.delay=f.apply(s,j);if(A<i)i=A;if(A>m)m=A}setTimeout(function(){e(n=setInterval(g,24))},i)}else setTimeout(function(){e(n=setInterval(h,24))},f)}var k=(B.org||(B.org={})).epheme={};k.version=
"0.0.0";var v={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(a){return v.prefix[a]||null},qualify:function(a){var e=a.indexOf(":");return e<0?a:{space:v.prefix[a.substring(0,e)],local:a.substring(e+1)}}},ia=E(2),ja=E(3),ka={linear:function(){return Q},poly:E,quad:function(){return ia},cubic:function(){return ja},sin:function(){return R},
exp:function(){return S},circle:function(){return T},elastic:function(a,e){var g;if(arguments.length<2)e=0.45;if(arguments.length<1){a=1;g=e/4}else g=e/(2*Math.PI)*Math.asin(1/a);return function(h){return 1+a*Math.pow(2,10*-h)*Math.sin(-(h+g)*2*Math.PI/e)}},back:function(a){a||(a=1.70158);return function(e){return e*e*((a+1)*e-a)}},bounce:function(){return U}},la={"in":function(a){return a},out:z,"in-out":I,"out-int":function(a){return I(z(a))}};k.ease=function(a){var e=a.indexOf("-"),g=e>=0?a.substring(0,
e):a;e=e>=0?a.substring(e+1):"in";return la[e](ka[g].apply(null,Array.prototype.slice.call(arguments,1)))};k.tween=function(a,e){var g=ma.exec(a)[1];a=parseFloat(a);e=parseFloat(e)-a;return g.length?function(){return a+e*k.time+g}:function(){return a+e*k.time}};var ma=/[-+]?\d*\.?\d*(?:[eE]\d+)?(.*)/,V={background:1,fill:1,stroke:1};k.rgb=function(a){var e,g,h,b,d;if(b=/([a-z]+)\((.*)\)/i.exec(a)){d=b[2].split(",");switch(b[1]){case "hsl":return W(parseFloat(d[0]),parseFloat(d[1])/100,parseFloat(d[2])/
100);case "rgb":return{r:F(d[0]),g:F(d[1]),b:F(d[2])}}}if(b=D[a])return b;if(a.charAt(0)=="#"){if(a.length==4){e=a.charAt(1);e+=e;g=a.charAt(2);g+=g;h=a.charAt(3);h+=h}else if(a.length==7){e=a.substring(1,3);g=a.substring(3,5);h=a.substring(5,7)}e=parseInt(e,16);g=parseInt(g,16);h=parseInt(h,16)}return{r:e,g:g,b:h}};var D={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",
blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",
darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",
ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",
magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",
palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",
tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};for(var P in D)D[P]=k.rgb(D[P]);k.rgb.tween=function(a,e){a=k.rgb(a);e=k.rgb(e);var g=a.r,h=a.g,b=a.b,d=e.r-g,c=e.g-h,f=e.b-b;return function(){var i=k.time;return"rgb("+Math.round(g+d*i)+","+Math.round(h+c*i)+","+Math.round(b+f*i)+")"}};var j=[];k.select=function(a){return K().select(a)};k.selectAll=function(a){return K().selectAll(a)}})(this);
