if(!Date.now)Date.now=function(){return+new Date};if(!Object.create)Object.create=function(F){function A(){}A.prototype=F;return new A};
(function(F){function A(a){return function(e){return 1-a(1-e)}}function L(a){return function(e){return 0.5*(e<0.5?a(2*e):2-a(2-2*e))}}function V(a){return a}function G(a){return function(e){return Math.pow(e,a)}}function W(a){return 1-Math.cos(a*Math.PI/2)}function X(a){return a?Math.pow(2,10*(a-1))-0.0010:0}function Y(a){return 1-Math.sqrt(1-a*a)}function Z(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}
function M(a){return function(e,g){var f=a(e,g);return function(){return f(l.time)}}}function N(a){return a in O||/\bcolor\b/.test(a)?l.tweenRgb:l.tween}function H(a){var e,g,f,b,c;if(b=/([a-z]+)\((.*)\)/i.exec(a)){c=b[2].split(",");switch(b[1]){case "hsl":return $(parseFloat(c[0]),parseFloat(c[1])/100,parseFloat(c[2])/100);case "rgb":return{r:I(c[0]),g:I(c[1]),b:I(c[2])}}}if(b=B[a])return b;if(a==null)return B.black;if(a.charAt(0)=="#"){if(a.length==4){e=a.charAt(1);e+=e;g=a.charAt(2);g+=g;f=a.charAt(3);
f+=f}else if(a.length==7){e=a.substring(1,3);g=a.substring(3,5);f=a.substring(5,7)}e=parseInt(e,16);g=parseInt(g,16);f=parseInt(f,16)}return{r:e,g:g,b:f}}function $(a,e,g){function f(d){if(d>360)d-=360;else if(d<0)d+=360;if(d<60)return b+(c-b)*d/60;if(d<180)return c;if(d<240)return b+(c-b)*(240-d)/60;return b}var b,c;a%=360;if(a<0)a+=360;e=e<0?0:e>1?1:e;g=g<0?0:g>1?1:g;c=g<=0.5?g*(1+e):g+e-g*e;b=2*g-c;return{r:Math.round(f(a+120)*255),g:Math.round(f(a)*255),b:Math.round(f(a-120)*255)}}function I(a){var e=
parseFloat(a);return a.charAt(a.length-1)=="%"?Math.round(e*2.55):e}function P(){function a(f,b){var c=Object.create(e);c.pop=f;c.data=function(d){var h,i={impl:aa,value:d,actions:[],enterActions:[],exitActions:[]};b.push(i);h=a(c,i.actions);h.enter=a(c,i.enterActions);h.exit=a(c,i.exitActions);h.key=function(j,n){i.key={name:w.qualify(j),value:n};return h};return h};c.tweenData=function(d,h){b.push({impl:ba,bind:ca,value:d,tween:arguments.length<2?l.tween:h});return c};c.attr=function(d,h){b.push({impl:da,
name:w.qualify(d),value:h});return c};c.tweenAttr=function(d,h,i){b.push({impl:ea,bind:fa,name:w.qualify(d),key:"attr."+d,value:h,tween:arguments.length<3?N(d):i});return c};c.style=function(d,h,i){b.push({impl:ga,name:d,value:h,priority:arguments.length<3?null:i});return c};c.tweenStyle=function(d,h,i,j){b.push({impl:ha,bind:ia,name:d,key:"style."+d,value:h,priority:arguments.length<3?null:i,tween:arguments.length<4?N(d):j});return c};c.add=function(d,h){var i={impl:ja,name:w.qualify(d),value:h,
actions:[]};b.push(i);return a(c,i.actions)};c.remove=function(d){b.push({impl:ka,selector:d});return c};c.text=function(d){b.push({impl:la,value:d});return c};c.on=function(d){d={impl:ma,type:d,actions:[]};b.push(d);return a(c,d.actions)};c.filter=function(d){d={impl:na,filter:d,actions:[]};b.push(d);return a(c,d.actions)};c.select=function(d){d={impl:Q,selector:d,actions:[]};b.push(d);return a(c,d.actions)};c.selectAll=function(d){d={impl:R,selector:d,actions:[]};b.push(d);return a(c,d.actions)};
c.transition=function(){var d,h={impl:oa,actions:[],endActions:[],ease:l.ease("cubic-in-out"),delay:0,duration:250};b.push(h);d=a(c,h.actions);d.end=a(c,h.endActions);d.ease=function(i){h.ease=typeof i=="string"?l.ease(i):i;return d};d.delay=function(i){h.delay=i;return d};d.duration=function(i){h.duration=i;return d};return d};return c}var e={},g=[];e.select=function(f){f={impl:Q,selector:f,actions:[]};g.push(f);return a(e,f.actions)};e.selectAll=function(f){f={impl:R,selector:f,actions:[]};g.push(f);
return a(e,f.actions)};e.apply=function(){k.unshift(null);v(g,[{node:document,index:0}]);k.shift();return e};return e}function v(a,e){var g=a.length,f;for(f=0;f<g;++f)a[f].impl(e,v)}function ja(a,e){var g=a.length,f=this.name,b=[],c,d,h;if(f.local)for(c=0;c<g;++c){b.push(h=Object.create(d=a[c]));h.node=(h.parentNode=d.node).appendChild(document.createElementNS(f.space,f.local))}else for(c=0;c<g;++c){b.push(h=Object.create(d=a[c]));h.node=(h.parentNode=d.node).appendChild(document.createElement(f))}e(this.actions,
b)}function da(a){var e=a.length,g=this.name,f=this.value,b,c,d;if(g.local)if(f==null)for(b=0;b<e;++b)a[b].node.removeAttributeNS(g.space,g.local);else if(typeof f=="function")for(b=0;b<e;++b){k[0]=(c=a[b]).data;d=f.apply(c,k);d==null?c.node.removeAttributeNS(g.space,g.local):c.node.setAttributeNS(g.space,g.local,d)}else for(b=0;b<e;++b)a[b].node.setAttributeNS(g.space,g.local,f);else if(f==null)for(b=0;b<e;++b)a[b].node.removeAttribute(g);else if(typeof f=="function")for(b=0;b<e;++b){k[0]=(c=a[b]).data;
d=f.apply(c,k);d==null?c.node.removeAttribute(g):c.node.setAttribute(g,d)}else for(b=0;b<e;++b)a[b].node.setAttribute(g,f)}function ea(a){var e=a.length,g=this.name,f=this.key,b,c;if(g.local)for(b=0;b<e;++b)(c=a[b]).node.setAttributeNS(g.space,g.local,c.tween[f]());else for(b=0;b<e;++b)(c=a[b]).node.setAttribute(g,c.tween[f]())}function fa(a){var e=a.length,g=this.name,f=this.key,b=this.value,c=this.tween,d,h;if(g.local)if(typeof b==="function")for(d=0;d<e;++d){k[0]=(h=a[d]).data;h.tween[f]=c(h.node.getAttributeNS(g.local,
g.space),b.apply(h,k))}else for(d=0;d<e;++d)(h=a[d]).tween[f]=c(h.node.getAttributeNS(g.local,g.space),b);else if(typeof b==="function")for(d=0;d<e;++d){k[0]=(h=a[d]).data;h.tween[f]=c(h.node.getAttribute(g),b.apply(h,k))}else for(d=0;d<e;++d)(h=a[d]).tween[f]=c(h.node.getAttribute(g),b)}function aa(a,e){var g=this.value,f=a.length,b,c=this.key,d,h,i,j,n=[],o=[],p=[],q,t,x;if(typeof g=="function"){d=k.shift();g=g.apply(null,k);k.unshift(d)}b=g.length;if(c){d=c.name;h=c.value;q={};t={};x={};if(d.local)for(c=
0;c<f;++c){if(j=a[c].node){i=j.getAttributeNS(d.space,d.local);if(i!=null)q[i]=j}}else for(c=0;c<f;++c)if(j=a[c].node){i=j.getAttribute(d);if(i!=null)q[i]=j}for(c=0;c<b;++c){k[0]=d=g[c];i=h.apply(null,k);if(i!=null){t[i]=d;x[i]=c}}for(i in t){d=t[i];c=x[i];(j=q[i])?o.push({node:j,data:d,key:i,index:c}):n.push({node:a.parentNode,data:d,key:i,index:c})}for(i in q)i in t||p.push({node:q[i]})}else{i=b<f?b:f;for(c=0;c<i;++c){(j=a[c]).data=g[c];if(j.node)o.push(j);else{j.node=j.parentNode;n.push(j)}}for(i=
c;i<b;++i)n.push({node:a.parentNode,data:g[i],index:i});for(i=c;i<f;++i)p.push(a[i])}e(this.enterActions,n);e(this.actions,o);e(this.exitActions,p)}function ba(a){var e=a.length,g,f;for(g=0;g<e;++g)(f=a[g]).data=f.tween.data()}function ca(a){var e=a.length,g=this.value,f=this.tween,b,c;if(typeof g==="function")for(b=0;b<e;++b)(c=a[b]).tween.data=f(k[0]=c.data,g.apply(c,k));else for(b=0;b<e;++b)(c=a[b]).tween.data=f(c.data,g)}function ka(a){var e=a.length,g=this.selector,f,b,c,d,h;if(g==null)for(b=
0;b<e;++b){h=a[b].node;h.parentNode.removeChild(h)}else for(b=0;b<e;++b){f=a[b].node.querySelectorAll(g);c=0;for(d=f.length;c<d;c++){h=f[c];h.parentNode.removeChild(h)}}}function ma(a){function e(j){return function(n){var o=k;try{k=i;l.event=n;for(d=0;d<f;++d)g[d].impl(j,v)}finally{delete l.event;k=o}}}var g=this.actions,f=g.length,b=a.length,c="on"+this.type,d=0,h,i=k.slice();if(f)for(;d<b;++d){h=a[d];h.node[c]=e([h])}else for(;d<b;++d)a[d].node[c]=null}function na(a,e){var g=[],f=a.length,b=this.filter,
c,d;for(c=0;c<f;++c){k[0]=(d=a[c]).data;b.apply(d,k)&&g.push(d)}e(this.actions,g)}function Q(a,e){var g=[],f=a.length,b=this.selector,c,d,h,i;for(c=0;c<f;++c){i=(h=(d=a[c]).node).querySelector(b);if(i!=null){g.push(d=Object.create(d));d.parentNode=h;d.node=i}}e(this.actions,g)}function R(a,e){var g=a.length,f=this.selector,b,c;k.unshift(null);for(b=0;b<g;++b){k[1]=(c=a[b]).data;var d=e,h=this.actions,i=(c=c.node).querySelectorAll(f),j=[],n=0,o=i.length;for(j.parentNode=c;n<o;n++)j.push({node:i[n],
index:n});d(h,j)}k.shift()}function ga(a){var e=a.length,g=this.name,f=this.value,b=this.priority,c,d,h;if(f==null)for(c=0;c<e;++c)a[c].node.style.removeProperty(g);else if(typeof f=="function")for(c=0;c<e;++c){d=a[c];k[0]=d.data;h=f.apply(d,k);h==null?d.node.style.removeProperty(g):d.node.style.setProperty(g,h,b)}else for(c=0;c<e;++c)a[c].node.style.setProperty(g,f,b)}function ha(a){var e=a.length,g=this.name,f=this.key,b=this.priority,c,d;for(c=0;c<e;++c)(d=a[c]).node.style.setProperty(g,d.tween[f](),
b)}function ia(a){var e=a.length,g=this.name,f=this.key,b=this.value,c=this.tween,d,h;if(typeof b==="function")for(d=0;d<e;++d){k[0]=(h=a[d]).data;h.tween[f]=c(h.node.style.getPropertyValue(g),b.apply(h,k))}else for(d=0;d<e;++d)(h=a[d]).tween[f]=c(h.node.style.getPropertyValue(g),b)}function la(a){var e=a.length,g=this.value,f,b,c;if(typeof g=="function")for(f=0;f<e;++f){b=a[f];k[0]=b.data;c=g.apply(b,k);for(b=b.node;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(document.createTextNode(c))}else for(f=
0;f<e;++f){for(b=a[f].node;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(document.createTextNode(g))}}function oa(a){function e(y){var r=k;for(m=0;m<x;++m)(s=a[m]).node.interval=y;try{l.time=0;k=D;S(b,a)}finally{delete l.time;k=r}}function g(){var y=k,r=a.filter(function(pa){return pa.node.interval==p}),E=r.length,J=Date.now(),z,T=true;try{k=D;for(m=0;m<E;++m){s=r[m];z=(J-d-s.delay)/n;if(!(z<0)){if(z>1)z=1;else T=false;l.time=o(z);for(u=0;u<q;++u)b[u].impl([s],v);if(z==1){for(u=0;u<t;++u)c[u].impl([s],
v);s.delay=Infinity}}}}finally{delete l.time;k=y}T&&clearInterval(p)}function f(){var y=k,r=(Date.now()-d-h)/n,E=a.filter(function(J){return J.node.interval==p});try{k=D;l.time=o(r<0?0:r>1?1:r);for(m=0;m<q;++m)b[m].impl(E,v)}finally{delete l.time;k=y}if(r>=1){clearInterval(p);try{k=D;for(m=0;m<t;++m)c[m].impl(E,v)}finally{k=y}}}var b=this.actions,c=this.endActions,d=Date.now(),h=this.delay,i=Infinity,j=-Infinity,n=this.duration,o=this.ease,p,q=b.length,t=c.length,x=a.length,m,u,s,C,D=k.slice();if(typeof h==
"function"){for(m=0;m<x;++m){k[0]=(s=a[m]).data;C=s.delay=h.apply(s,k);if(C<i)i=C;if(C>j)j=C}setTimeout(function(){e(p=setInterval(g,24))},i)}else setTimeout(function(){e(p=setInterval(f,24))},h)}function S(a,e){var g=a.length,f=e.length,b;for(b=0;b<f;++b)e[b].tween={};for(b=0;b<g;++b){f=a[b];f.bind&&f.bind(e);f.impl(e,S)}}var l=F.d3={};l.version="0.0.0";var w={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",
xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(a){return w.prefix[a]||null},qualify:function(a){var e=a.indexOf(":");return e<0?a:{space:w.prefix[a.substring(0,e)],local:a.substring(e+1)}}};l.dispatch=function(a){var e={};a.on=function(g,f){for(var b=e[g]||(e[g]=[]),c=0;c<b.length;c++)if(b[c].handler==f)return a;b.push({handler:f,on:true});return a};a.off=function(g,f){var b=e[g];if(b)for(var c=0;c<b.length;c++){var d=b[c];if(d.handler==f){d.on=false;b.splice(c,1);break}}return a};a.dispatch=
function(g){var f=e[g.type];if(f){f=f.slice();for(var b=0;b<f.length;b++){var c=f[b];c.on&&c.handler.call(a,g)}}};return a};var qa=G(2),ra=G(3),sa={linear:function(){return V},poly:G,quad:function(){return qa},cubic:function(){return ra},sin:function(){return W},exp:function(){return X},circle:function(){return Y},elastic:function(a,e){var g;if(arguments.length<2)e=0.45;if(arguments.length<1){a=1;g=e/4}else g=e/(2*Math.PI)*Math.asin(1/a);return function(f){return 1+a*Math.pow(2,10*-f)*Math.sin(-(f+
g)*2*Math.PI/e)}},back:function(a){a||(a=1.70158);return function(e){return e*e*((a+1)*e-a)}},bounce:function(){return Z}},ta={"in":function(a){return a},out:A,"in-out":L,"out-int":function(a){return L(A(a))}};l.ease=function(a){var e=a.indexOf("-"),g=e>=0?a.substring(0,e):a;e=e>=0?a.substring(e+1):"in";return ta[e](sa[g].apply(null,Array.prototype.slice.call(arguments,1)))};l.interpolate=function(a,e){if(typeof e=="number")return l.interpolateNumber(+a,e);if(typeof e=="string")return l.interpolateString(String(a),
e);if(e instanceof Array)return l.interpolateArray(a,e);return l.interpolateObject(a,e)};l.interpolateNumber=function(a,e){e-=a;return function(g){return a+e*g}};l.interpolateString=function(a,e){var g,f,b=0,c=0,d=[],h=[],i,j;for(f=0;g=K.exec(e);++f){if(g.index)d.push(e.substring(b,c=g.index));h.push({i:d.length,x:g[0]});d.push(null);b=K.lastIndex}b<e.length&&d.push(e.substring(b));f=0;for(i=h.length;(g=K.exec(a))&&f<i;++f){j=h[f];if(j.x==g[0]){if(d[j.i+1]==null){d[j.i-1]+=j.x;d.splice(j.i,1);for(g=
f+1;g<i;++g)h[g].i--}else{d[j.i-1]+=j.x+d[j.i+1];d.splice(j.i,2);for(g=f+1;g<i;++g)h[g].i-=2}h.splice(f,1);i--;f--}else j.x=l.interpolateNumber(parseFloat(g[0]),parseFloat(j.x))}for(;f<i;){j=h.pop();if(d[j.i+1]==null)d[j.i]=j.x;else{d[j.i]=j.x+d[j.i+1];d.splice(j.i+1,1)}i--}if(d.length==1)return d[0]==null?h[0].x:function(){return e};return function(n){for(f=0;f<i;++f)d[(j=h[f]).i]=j.x(n);return d.join("")}};l.interpolateRgb=function(a,e){a=H(a);e=H(e);var g=a.r,f=a.g,b=a.b,c=e.r-g,d=e.g-f,h=e.b-
b;return function(i){return"rgb("+Math.round(g+c*i)+","+Math.round(f+d*i)+","+Math.round(b+h*i)+")"}};l.interpolateArray=function(a,e){var g=[],f=[],b=a.length,c=e.length,d=Math.min(a.length,e.length),h;for(h=0;h<d;++h)g.push(l.interpolate(a[h],e[h]));for(;h<b;++h)f[h]=a[h];for(;h<c;++h)f[h]=e[h];return function(i){for(h=0;h<d;++h)f[h]=g[h](i);return f}};l.interpolateObject=function(a,e){var g={},f={},b;for(b in a)if(b in e)g[b]=(b in O||/\bcolor\b/.test(b)?l.interpolateRgb:l.interpolate)(a[b],e[b]);
else f[b]=a[b];for(b in e)b in a||(f[b]=e[b]);return function(c){for(b in g)f[b]=g[b](c);return f}};var K=/[-+]?(?:\d+\.\d+|\d+\.|\.\d+|\d+)(?:[eE][-]?\d+)?/g,O={background:1,fill:1,stroke:1};l.tween=M(l.interpolate);l.tweenRgb=M(l.interpolateRgb);var B={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",
chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",
darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",
lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",
mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",
peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",
wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};for(var U in B)B[U]=H(B[U]);var k=[];l.select=function(a){return P().select(a)};l.selectAll=function(a){return P().selectAll(a)}})(this);
